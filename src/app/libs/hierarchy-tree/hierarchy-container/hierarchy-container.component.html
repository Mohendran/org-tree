<div>
  <hierarchy-node *ngIf="node" ngClass="hierarchy-tree-node-vertical" [node]="node" [hasParent]="hasParent"
    [template]="template">
  </hierarchy-node>

  <!--Recursive Lopp for handling Members-->
  <div *ngIf="node?.Members?.length" ngClass="hierarchy-tree-children-vertical" class="hierarchy-tree-children">
    <div *ngFor="let childNode of node?.Members; let i = index; first as isFirst; last as isLast"
      ngClass="children-container-vertical" class="children-container">
      <div ngClass="lines-container-vertical" class="lines-container">
        <div class="lines"></div>
        <div class="m-line"></div>
        <div class="lines"></div>
      </div>
      <hierarchy-container [dndDraggable]="childNode" (dndCanceled)="onDragged(childNode, node.Members, 'none')"
        (dndMoved)="onDragged(childNode, node.Members, 'move')" dndEffectAllowed="move" [template]="template"
        [node]="childNode" [hasParent]="true">
      </hierarchy-container>
    </div>
  </div>
</div>