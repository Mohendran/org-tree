<div>
  <hierarchy-node *ngIf="node" class="hierarchy-tree-node-vertical" [node]="node" [hasParent]="hasParent"
    [template]="template">
  </hierarchy-node>

  <!--Recursive Lopp for handling Members-->
  <div *ngIf="node?.Members?.length" class="hierarchy-tree-children hierarchy-tree-children-vertical">
    <div *ngFor="let childNode of node?.Members; let i = index; first as isFirst; last as isLast"
      class="children-container children-container-vertical">
      <div class="lines-container lines-container-vertical">
        <div class="lines"></div>
        <div class="m-line"></div>
        <div class="lines"></div>
      </div>
      <hierarchy-container [dndDraggable]="childNode" (dndCanceled)="onDragged(childNode, node.Members, 'none')"
        (dndMoved)="onDragged(childNode, node.Members, 'move')" dndEffectAllowed="move" [template]="template"
        [node]="childNode" [hasParent]="true">
      </hierarchy-container>
    </div>
  </div>
</div>